{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/LENOVO/Downloads/shipfront/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/LENOVO/Downloads/shipfront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/LENOVO/Downloads/shipfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{AiFillEye}from\"react-icons/ai\";import{AiFillEyeInvisible}from\"react-icons/ai\";import{MdOutlineLock}from\"react-icons/md\";import{AiOutlineMail,AiOutlineUser,AiOutlineKey}from\"react-icons/ai\";import{BsArrowRight}from\"react-icons/bs\";import{Nav,NavItem,Form,Button,Col,Row,Label,Input,FormGroup}from\"reactstrap\";import{Link}from\"react-router-dom\";// import logo from \"../images/logoPng.png\";\nimport\"../css/login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ForgetPassword(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setNewPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,errorData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// Make a POST request to the change-password endpoint\n_context.prev=1;_context.next=4;return fetch('http://localhost:5000/forgetpassword/reset-password1',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:username,newPassword:newPassword,confirmPassword:confirmPassword})});case 4:response=_context.sent;if(!response.ok){_context.next=14;break;}// Password changed successfully\n// Reset the form fields\nwindow.location.href=\"/login\";setUsername('');setNewPassword('');setConfirmPassword('');setError('');alert('Password changed successfully');_context.next=18;break;case 14:_context.next=16;return response.json();case 16:errorData=_context.sent;setError(errorData.error);case 18:_context.next=24;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](1);console.error('Error changing password:',_context.t0);setError('Error changing password');case 24:case\"end\":return _context.stop();}},_callee,null,[[1,20]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"\",\"data-aos\":\"zoom-in\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center bg-color-dark\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-12 col-md-6 col-lg-7 col-xl-7 col-xxl-7  \",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/Assets/dashboard/login.png\",alt:\"Rectangle 220\",className:\"img-fluid\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-side-text\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"image-sub-title\",children:\"Welcome to \"}),\"P&G TRUCKERS\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-6 col-lg-5 col-xl-5 col-xxl-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\" px-lg-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loginDiv mb-4\",children:/*#__PURE__*/_jsxs(Col,{md:10,className:\"login-form-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 col-md-6 col-lg-12 col-xl-12 col-xxl-12 mb-4  \",children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"form-heading\",children:\"Reset Password\"})})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 position-relative\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-person reset-icon\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-field\",type:\"email\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},placeholder:\"Enter your email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 position-relative\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-lock reset-icon\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-field\",type:\"password\",value:newPassword,onChange:function onChange(e){return setNewPassword(e.target.value);},placeholder:\"Enter your New Password\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 position-relative\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-lock reset-icon\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-field\",type:\"password\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);},placeholder:\"Enter your Confirm password\",required:true})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"login-btn text-white\",type:\"submit\",children:\"Reset Password\"})]})]})})})})]})})})});}export default ForgetPassword;","map":{"version":3,"names":["React","useState","useEffect","axios","AiFillEye","AiFillEyeInvisible","MdOutlineLock","AiOutlineMail","AiOutlineUser","AiOutlineKey","BsArrowRight","Nav","NavItem","Form","Button","Col","Row","Label","Input","FormGroup","Link","jsx","_jsx","jsxs","_jsxs","ForgetPassword","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","newPassword","setNewPassword","_useState5","_useState6","confirmPassword","setConfirmPassword","_useState7","_useState8","error","setError","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","errorData","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","ok","window","location","href","alert","json","t0","console","stop","_x","apply","arguments","children","className","src","alt","md","onSubmit","class","type","value","onChange","target","placeholder","required"],"sources":["C:/Users/LENOVO/Downloads/shipfront/src/component/ForgetPassword.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { AiFillEye } from \"react-icons/ai\";\r\nimport { AiFillEyeInvisible } from \"react-icons/ai\";\r\nimport { MdOutlineLock } from \"react-icons/md\";\r\nimport { AiOutlineMail,AiOutlineUser,AiOutlineKey } from \"react-icons/ai\";\r\nimport {BsArrowRight} from \"react-icons/bs\"\r\nimport {\r\n  Nav,\r\n  NavItem,\r\n  Form,\r\n  Button,\r\n  Col,\r\n  Row,\r\n  Label,\r\n  Input,\r\n  FormGroup,\r\n} from \"reactstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n// import logo from \"../images/logoPng.png\";\r\nimport \"../css/login.css\";\r\n\r\nfunction ForgetPassword() {\r\n    const [username, setUsername] = useState('');\r\n    const [newPassword, setNewPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      // Make a POST request to the change-password endpoint\r\n      try {\r\n        const response = await fetch('http://localhost:5000/forgetpassword/reset-password1', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({ username, newPassword, confirmPassword }),\r\n        });\r\n        if (response.ok) {\r\n          // Password changed successfully\r\n          // Reset the form fields\r\n          window.location.href = \"/login\";\r\n          setUsername('');\r\n          setNewPassword('');\r\n          setConfirmPassword('');\r\n          setError('');\r\n          alert('Password changed successfully');\r\n        } else {\r\n          const errorData = await response.json();\r\n          setError(errorData.error);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error changing password:', error);\r\n        setError('Error changing password');\r\n      }\r\n    };\r\n  return (\r\n    <section>\r\n<div className=\"\" data-aos=\"zoom-in\">\r\n  <div className=\"\">\r\n    <div className=\"row align-items-center bg-color-dark\">\r\n      <div className=\"col-sm-12 col-md-6 col-lg-7 col-xl-7 col-xxl-7  \">\r\n        <img\r\n          src=\"/Assets/dashboard/login.png\"\r\n          alt=\"Rectangle 220\"\r\n          className=\"img-fluid\"\r\n        />\r\n        <div className=\"login-side-text\">\r\n          <h2><span className=\"image-sub-title\">Welcome to </span>\r\nP&G TRUCKERS</h2>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-sm-12 col-md-6 col-lg-5 col-xl-5 col-xxl-5\">\r\n       \r\n        <div className=\" px-lg-5\">\r\n           \r\n\r\n          \r\n           \r\n          <div className=\"loginDiv mb-4\">\r\n              <Col md={10} className=\"login-form-box\">\r\n              <div className=\"col-sm-12 col-md-6 col-lg-12 col-xl-12 col-xxl-12 mb-4  \">\r\n        <div className=\"\">\r\n        <h3 className=\"form-heading\">Reset Password</h3>\r\n\r\n        </div>\r\n      </div>\r\n                \r\n      <form onSubmit={handleSubmit}>\r\n      \r\n      <div className=\"mb-3 position-relative\">\r\n      <i class=\"bi bi-person reset-icon\"></i>\r\n        <input  className=\"input-field\" type=\"email\" value={username} onChange={(e) => setUsername(e.target.value)} placeholder=\"Enter your email\" required />\r\n      </div>\r\n      <div className=\"mb-3 position-relative\">\r\n      <i class=\"bi bi-lock reset-icon\"></i>\r\n        <input className=\"input-field\" type=\"password\" value={newPassword} onChange={(e) => setNewPassword(e.target.value)} placeholder=\"Enter your New Password\" required />\r\n      </div>\r\n      <div className=\"mb-3 position-relative\">\r\n      <i class=\"bi bi-lock reset-icon\"></i>\r\n        <input className=\"input-field\" type=\"password\" value={confirmPassword} onChange={(e) => setConfirmPassword(e.target.value)} placeholder=\"Enter your Confirm password\" required />\r\n      </div>\r\n      {error && <div className=\"error\" >{error}</div>}\r\n      <button className=\"login-btn text-white\"  type=\"submit\">Reset Password</button>\r\n    </form>\r\n              </Col>\r\n            </div>\r\n         \r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</section>\r\n  )\r\n}\r\n\r\nexport default ForgetPassword;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}